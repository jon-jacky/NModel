<div class="wikidoc"><h3>Conformance Tester</h3><a href="#Usage">Usage</a> <a href="#Examples">Examples</a> <a href="#Options">Options</a><br /><br />To execute tests using the test runner <span class="codeInline">ct</span>, you must write a test harness in C# that couples your implementation to <span class="codeInline">ct</span>.  You can provide a test suite generated from a model program by <a href="https://nmodel.codeplex.com/wikipage?title=Offline%20Test%20Generator&referringTitle=Conformance%20Tester">otg</a>, or <span class="codeInline">ct</span> can generate test cases <i>on-the-fly</i> from a model program as the test run executes.   You can write a custom <i>strategy</i> in C# that <span class="codeInline">ct</span> uses to maximize coverage according to criteria you define.<br /><br />An NModel test harness is called a <i>stepper</i>.    To test a <i>reactive</i> (event-driven) system, you can write an <i>asynchronous stepper</i> that handles <i>observable actions</i> (events) in the implementation that are not under the tester&#39;s direct control.  <br />
<h3>Usage</h3>
<pre>
ct /iut:&lt;string&gt; [/modelStepper:&lt;string&gt;] /reference:&lt;string&gt;+ [/mp:&lt;string&gt;]* 
[/coverage:&lt;string&gt;]* [/steps:&lt;int&gt;]* [/maxSteps:&lt;int&gt;]* [/runs:&lt;int&gt;]* 
[/observableAction:&lt;string&gt;]* [/cleanupAction:&lt;string&gt;]* 
[/internalAction:&lt;string&gt;]* [/waitAction:&lt;string&gt;]* [/timeoutAction:&lt;string&gt;]*
[/timeout:&lt;int&gt;]* [/continueOnFailure[+|-]]* [/logfile:&lt;string&gt;]* 
[/randomSeed:&lt;int&gt;]*  [/overwriteLog[+|-]]* [/testSuite:&lt;string&gt;]* 
[/fsm:&lt;string&gt;]* [/startTestAction:&lt;string&gt;]* &lt;model&gt;* @&lt;file&gt;
</pre><br /><a name="Examples"></a>
<h3>Examples</h3>
<pre>
ct @ct_args.txt
ct /r:Stepper.dll /iut:ClientServerImpl.Stepper.Create /testSuite:ContractTest.txt
ct /r:ClientServer.dll ClientServer.Factory.Create /r:Stepper.dll ^
    /iut:ClientServerImpl.Stepper.Create /fsm:Scenario.txt /runs:1
ct /r:ClientServer.dll /mp:ClientServer /r:Stepper.dll ^
    /iut:ClientServerImpl.Stepper.Create /fsm:Scenario.txt /runs:1
</pre><br /><a name="Options"></a>
<h3>Options</h3>
<span class="codeInline">/?, /help</span><br />Displays usage information and exits.<br /><br /><span class="codeInline">/iut:&lt;string&gt;</span><br />Implementation under test, a fully qualified name of a factory method that returns an object that implements <span class="codeInline">IStepper</span>.<br /><br /><span class="codeInline">[/strategy:&lt;string&gt;]</span><br />A fully qualified name of creator method that takes arguments <span class="codeInline">(ModelProgram modelProgram, string[] coverage)</span> and returns an object that implements <span class="codeInline">IStrategy</span>. If left unspecified the default model stepper is used that ignores coverage point names (if any). (If a <span class="codeInline">testSuite</span> is provided, this option is ignored.)<br /><br /><span class="codeInline">/reference:&lt;string&gt;+</span><br />Referenced assemblies. (Short form: <span class="codeInline">/r</span>)<br /><br /><span class="codeInline">[/mp:&lt;string&gt;]*</span> <br />Model programs given in the form <span class="codeInline">M</span> or <span class="codeInline">M[F1,...,Fn]</span> where <span class="codeInline">M</span> is a model program name (namespace) and each <span class="codeInline">Fi</span> is a feature in <span class="codeInline">M</span>.  Multiple model programs are composed into a product.  No factory method for the model program is needed if this option is used.<br /><br /><span class="codeInline">[/coverage:&lt;string&gt;]*</span><br />Coverage point names used by model stepper. (If a <span class="codeInline">testSuite</span> is provided, this option is ignored.)<br /><br /><span class="codeInline">[/steps:&lt;int&gt;]*</span><br />The desired number of steps that a single test run should have. After the number is reached, only cleanup tester actions are used and the test run continues until an accepting state is reached or the number of steps is <span class="codeInline">MaxSteps</span> (whichever occurs first). 0 implies no bound and a test case is executed until either a conformance failure occurs or no more actions are enabled. (If a testSuite is provided, this value is set to 0.) Default value: &#39;0&#39;<br /><br /><span class="codeInline">[/maxSteps:&lt;int&gt;]*</span><br />The maximum number of steps that a single test run can have. This value must be either 0, which means that there is no bound, or greater than or equal to steps. Default value: &#39;0&#39;<br /><br /><span class="codeInline">[/runs:&lt;int&gt;]*</span><br />The desired number of test runs. Testing stops when this number has been reached. Negative value or 0 implies no bound. (If a <span class="codeInline">testSuite</span> is provided, this value is set to the number of test cases in the test suite.) Default value: &#39;0&#39;<br /><br /><span class="codeInline">[/observableAction:&lt;string&gt;]*</span><br />Action symbols of actions controlled by the implementation. Other actions are controlled by the tester. (Short form: <span class="codeInline">/o</span>)<br /><br /><span class="codeInline">[/cleanupAction:&lt;string&gt;]*</span><br />Action symbols of actions that are used to end a test run during a cleanup phase. Other actions are omitted during a cleanup phase. (Short form: <span class="codeInline">/c</span>)<br /><br /><span class="codeInline">[/internalAction:&lt;string&gt;]*</span><br />Action symbols of tester actions that are not shared with the implementation and are not used for conformance evaluation. Other<br />tester actions are passed to the implementation stepper. (Short form: <span class="codeInline">/i</span>)<br /><br /><span class="codeInline">[/waitAction:&lt;string&gt;]*</span><br />A name of an action that is used to wait for observable actions in a state where no controllable actions are enabled. A wait action is controllable and internal and must take one integer argument that determines the time to wait in milliseconds during which an observable action is expected.<br /><br /><span class="codeInline">[/timeoutAction:&lt;string&gt;]*</span><br />A name of an action that happens when a wait action has been executed and no obsevable action occurred within the time limit provided in the wait action. A timeout action is observable and takes no arguments.<br /><br /><span class="codeInline">[/timeout:&lt;int&gt;]*</span><br />The amount of time in milliseconds within which a tester action must return when passed to the implementation stepper. Default value: &#39;10000&#39;<br /><br /><span class="codeInline">[/continueOnFailure[+|-]]*</span><br />Continue testing when a conformance failure occurs. Default value:  <span class="codeInline">&#39;+&#39;</span><br /><br /><span class="codeInline">[/logfile:&lt;string&gt;]*</span><br />Filename where test results are logged. The console is used if no logfile is provided.<br /><br /><span class="codeInline">[/randomSeed:&lt;int&gt;]*</span><br />A number used to calculate the starting value for the pseudo-random number sequence that is used by the global choice controller to select tester actions. If a negative number is specified, the absolute value is used. If left unspecified or if 0 is provided a random number is generated as the seed. Default value: &#39;0&#39; (Short form: <span class="codeInline">/seed</span>)<br /><br /><span class="codeInline">[/overwriteLog[+|-]]*</span><br />If true the log file is overwritten, otherwise the testresults are appended to the logfile Default value: &#39;+&#39;<br /><br /><span class="codeInline">[/testSuite:&lt;string&gt;]*</span><br />File name of a file containing a sequence of actions sequences to be used as the test suite.<br /><br /><span class="codeInline">[/fsm:&lt;string&gt;]*</span><br />File name of a file containing the term representation <span class="codeInline">fsm.ToTerm()</span> of an <span class="codeInline">fsm</span> (object of type FSM). Multiple FSMs are composed into a product.<br /><br /><span class="codeInline">[/startTestAction:&lt;string&gt;]*</span><br />Name of start action of a test case. This value is used only if a testSuite is provided. The default &#39;Test&#39; action sybmol is considered as an internal test action symbol. If another action symbol is provided it is not considered as being internal by default. Default value: &#39;Test&#39;<br /><br /><span class="codeInline">&lt;model&gt;*</span><br />Fully qualified names of factory methods returning an object that is a subclass of <span class="codeInline">ModelProgram</span>. Multiple models are composed into a product.   No factory method arguments are needed if the <span class="codeInline">/mp:</span> option is used instead.<br /><br /><span class="codeInline">@&lt;file&gt;</span><br />Read response file for more options.</div><div class="ClearBoth"></div>